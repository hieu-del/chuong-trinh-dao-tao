<!DOCTYPE html>
<html lang="vi" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theo dõi Chương trình Đào tạo Toàn khóa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        headerRow: '#1e293b',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s, color 0.5s;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        .dark ::-webkit-scrollbar-thumb { background: #475569; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* === TRẠNG THÁI NÚT (STATUS BUTTON) === */
        .status-btn {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 0.375rem; /* rounded-md */
            border-width: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.75rem;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        /* State 0: Chưa học (Empty/Default) */
        .status-btn[data-state="0"] {
            border-color: #cbd5e1; /* Slate 300 */
            background-color: transparent;
            color: transparent;
        }
        .dark .status-btn[data-state="0"] {
            border-color: #475569; /* Slate 600 */
            background-color: rgba(30, 41, 59, 0.5);
        }
        .status-btn[data-state="0"]:hover {
            border-color: #94a3b8;
        }

        /* State 1: Sắp học (Planning - Amber) */
        .status-btn[data-state="1"] {
            border-color: #f59e0b; /* Amber 500 */
            background-color: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.3); /* Glow nhẹ */
        }
        .status-btn[data-state="1"] i::before {
            content: "\f017"; /* fa-clock */
            font-family: "Font Awesome 6 Free";
            font-weight: 400; /* Regular */
        }

        /* State 2: Đã học (Completed - Blue) */
        .status-btn[data-state="2"] {
            border-color: #3b82f6; /* Blue 500 */
            background-color: #3b82f6;
            color: white;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5); /* Glow mạnh */
            transform: scale(1.1);
        }
        .status-btn[data-state="2"] i::before {
            content: "\f00c"; /* fa-check */
            font-family: "Font Awesome 6 Free";
            font-weight: 900; /* Solid */
        }

        /* Row Styling based on State */
        tr.planned td {
            background-color: rgba(245, 158, 11, 0.05) !important;
        }
        .dark tr.planned td {
            background-color: rgba(245, 158, 11, 0.1) !important;
        }
        
        tr.completed td {
            background-color: rgba(59, 130, 246, 0.08) !important;
            opacity: 0.7;
        }
        .dark tr.completed td {
            background-color: rgba(59, 130, 246, 0.15) !important;
            color: #94a3b8;
        }
        tr.completed td.font-mono { text-decoration: line-through; }

        /* Sticky Header & Glassmorphism */
        .glass-header {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }
        .dark .glass-header {
            background: rgba(15, 23, 42, 0.85);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* BACKGROUND STYLES */
        .tech-bg {
            position: relative;
            background-color: #f0f4f8; /* Light mode bg */
            /* Grid Pattern */
            background-image: 
                linear-gradient(rgba(0, 0, 0, 0.03) 1px, transparent 1px), 
                linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            background-attachment: fixed;
        }
        
        .dark .tech-bg {
            background-color: #0f172a; /* Dark mode bg */
            /* Grid Pattern */
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), 
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        }

        /* === AMBIENT ORBS === */
        .ambient-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 999;
            overflow: hidden;
            pointer-events: none;
        }
        .dark .ambient-container { mix-blend-mode: screen; }
        :not(.dark) .ambient-container { mix-blend-mode: multiply; }

        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(90px);
            opacity: 0.18;
            animation-timing-function: ease-in-out;
            animation-iteration-count: infinite;
            animation-direction: alternate;
        }
        .dark .orb { opacity: 0.18; filter: blur(80px); }

        /* Orb Animations */
        .orb-1 { width: 500px; height: 500px; background: #3b82f6; top: 5%; left: 5%; animation: move-1 28s infinite alternate; }
        .orb-2 { width: 450px; height: 450px; background: #d946ef; bottom: 10%; right: 5%; animation: move-2 32s infinite alternate-reverse; }
        .orb-3 { width: 350px; height: 350px; background: #f59e0b; top: 40%; left: 45%; animation: move-3 36s infinite alternate; }
        .orb-4 { width: 400px; height: 400px; background: #14b8a6; bottom: 15%; left: 10%; animation: move-4 40s infinite alternate-reverse; }
        .orb-5 { width: 300px; height: 300px; background: #f43f5e; top: 15%; right: 20%; animation: move-5 34s infinite alternate; }

        @keyframes move-1 { 0% { transform: translate(0,0) scale(1); } 100% { transform: translate(10vw, -5vh) scale(1.1); } }
        @keyframes move-2 { 0% { transform: translate(0,0) scale(1); } 100% { transform: translate(-10vw, 15vh) scale(0.9); } }
        @keyframes move-3 { 0% { transform: translate(0,0) scale(0.8); } 100% { transform: translate(25vw, -15vh) scale(1); } }
        @keyframes move-4 { 0% { transform: translate(0,0) scale(1.1); } 100% { transform: translate(0, -20vh) scale(0.9); } }
        @keyframes move-5 { 0% { transform: translate(0,0) scale(0.9); } 100% { transform: translate(-5vw, -10vh) scale(1.2); } }

        /* Header & Badges */
        .group-header { background-color: #1e293b; color: #93c5fd; font-weight: 600; letter-spacing: 0.025em; }
        :not(.dark) .group-header { background-color: #e2e8f0; color: #1e40af; }
        .legend-badge { display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; border-radius: 9999px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; border: 1px solid; cursor: default; user-select: none; }
        thead th { z-index: 40; }

        /* === PREREQUISITE LINKS & HIGHLIGHT === */
        .prereq-link {
            color: #3b82f6;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            text-decoration: none;
            position: relative;
            display: inline-block;
        }
        .prereq-link:hover {
            color: #60a5fa;
            transform: translateY(-1px);
        }
        .prereq-link::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 1px;
            bottom: 0;
            left: 0;
            background-color: currentColor;
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.25s ease-out;
        }
        .prereq-link:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }
        
        @keyframes highlight-row-anim {
            0%, 100% { background-color: transparent; }
            10%, 50% { background-color: rgba(59, 130, 246, 0.25); } 
        }
        .highlight-target > td {
            animation: highlight-row-anim 2s ease-in-out;
        }
    </style>
</head>
<body class="tech-bg text-slate-800 dark:text-slate-200 min-h-screen pb-20 transition-colors duration-500">

    <!-- Ambient Background -->
    <div class="ambient-container">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="orb orb-4"></div>
        <div class="orb orb-5"></div>
    </div>

    <!-- Navbar -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-header shadow-sm transition-colors duration-300">
        <div class="max-w-[1800px] mx-auto px-4">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-3">
                    <div class="bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-2 rounded-lg shadow-lg shadow-blue-500/30">
                        <i class="fa-solid fa-graduation-cap text-xl"></i>
                    </div>
                    <span class="font-bold text-lg tracking-tight hidden sm:block bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400">QUẢN LÝ ĐÀO TẠO</span>
                </div>
                <div class="flex-1 mx-4 sm:mx-10 flex flex-col justify-center max-w-md group">
                    <div class="flex justify-between text-xs font-semibold mb-1 text-slate-600 dark:text-slate-400 group-hover:text-blue-500 transition-colors">
                        <span>Tiến độ hoàn thành</span>
                        <span id="progress-text">0%</span>
                    </div>
                    <div class="w-full bg-gray-300 dark:bg-slate-700/50 rounded-full h-2.5 overflow-hidden backdrop-blur-sm border border-gray-300 dark:border-slate-600">
                        <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-indigo-600 h-2.5 rounded-full transition-all duration-700 ease-out" style="width: 0%"></div>
                    </div>
                </div>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700/50 transition-all focus:outline-none text-slate-600 dark:text-yellow-500">
                    <i id="theme-icon" class="fa-solid fa-sun text-xl"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <div class="max-w-[1800px] mx-auto pt-24 px-4 relative z-10">
        <div class="flex flex-col sm:flex-row sm:items-end justify-between mb-6 gap-4">
            <div>
                <h1 class="text-3xl font-bold text-slate-900 dark:text-white mb-3 drop-shadow-sm">Chương trình đào tạo</h1>
                <div class="flex flex-wrap gap-3 items-center">
                    <div class="legend-badge bg-slate-100/50 dark:bg-slate-800/40 border-slate-300 dark:border-slate-600 text-slate-500 dark:text-slate-400">
                        <div class="w-2.5 h-2.5 rounded-sm border-2 border-slate-400 dark:border-slate-500"></div>Chưa học
                    </div>
                    <div class="legend-badge bg-amber-500/10 border-amber-500/30 text-amber-600 dark:text-amber-400 shadow-[0_0_10px_rgba(245,158,11,0.1)]">
                        <div class="w-2.5 h-2.5 flex items-center justify-center text-[10px]"><i class="fa-regular fa-clock"></i></div>Sắp học
                    </div>
                    <div class="legend-badge bg-blue-500/10 border-blue-500/30 text-blue-600 dark:text-blue-400 shadow-[0_0_10px_rgba(59,130,246,0.2)]">
                        <div class="w-2.5 h-2.5 flex items-center justify-center text-[10px] font-bold"><i class="fa-solid fa-check"></i></div>Đã học
                    </div>
                </div>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-3">
                <div class="bg-white/60 dark:bg-slate-800/50 backdrop-blur px-5 py-3 rounded-xl border border-amber-200 dark:border-amber-900/30 flex items-center gap-4 shadow-lg">
                    <div class="text-right">
                        <div class="text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold tracking-wider mb-1">Tín chỉ sắp học</div>
                        <div class="flex items-baseline justify-end gap-1">
                            <div class="text-2xl font-bold text-amber-600 dark:text-amber-400" id="planned-credits">0</div><div class="text-sm text-slate-500 font-medium">TC</div>
                        </div>
                    </div>
                    <div class="h-10 w-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400"><i class="fa-regular fa-clock text-lg"></i></div>
                </div>

                <div class="bg-white/60 dark:bg-slate-800/50 backdrop-blur px-5 py-3 rounded-xl border border-slate-200 dark:border-slate-700 flex items-center gap-4 shadow-lg">
                    <div class="text-right">
                        <div class="text-[10px] text-slate-500 dark:text-slate-400 uppercase font-bold tracking-wider mb-1">Tín chỉ tích lũy</div>
                        <div class="flex items-baseline justify-end gap-1">
                            <div class="text-2xl font-bold text-blue-600 dark:text-blue-400" id="total-credits">0</div><div class="text-sm text-slate-500 font-medium">/ 145</div>
                        </div>
                    </div>
                    <div class="h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400"><i class="fa-solid fa-chart-pie text-lg"></i></div>
                </div>
            </div>
        </div>

        <div class="bg-white/70 dark:bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden transition-colors duration-300">
            <div class="overflow-x-auto max-h-[78vh]">
                <table class="w-full text-left border-collapse relative">
                    <thead class="bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-200 text-xs uppercase font-bold border-b border-slate-200 dark:border-slate-700 sticky top-0 z-30 shadow-sm">
                         <tr>
                            <th class="p-3 text-center w-14 sticky left-0 z-40 bg-slate-100 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700">TT</th>
                            <!-- CẬP NHẬT: Thêm tìm kiếm STT -->
                            <th class="p-3 text-center w-14 border-r border-slate-200 dark:border-slate-700 align-bottom pb-2">
                                <div class="flex flex-col gap-1 w-full">
                                    <span>STT</span>
                                    <div class="relative">
                                        <input type="text" id="search-stt" placeholder="..." class="w-full bg-slate-200/50 dark:bg-slate-800/50 border-none rounded px-1 py-1 text-[10px] text-center text-slate-900 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none" />
                                    </div>
                                </div>
                            </th>
                            <th class="p-3 text-center w-32 border-r border-slate-200 dark:border-slate-700 align-bottom pb-2">
                                <div class="flex flex-col gap-1 w-full">
                                    <span>Mã HP</span>
                                    <div class="relative">
                                        <input type="text" id="search-code" placeholder="Tìm..." class="w-full bg-slate-200/50 dark:bg-slate-800/50 border-none rounded px-2 py-1 text-[10px] text-slate-900 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none" />
                                        <i class="fa-solid fa-search absolute right-2 top-1/2 -translate-y-1/2 text-[8px] text-slate-400 pointer-events-none"></i>
                                    </div>
                                </div>
                            </th>
                            <th class="p-3 min-w-[220px] border-r border-slate-200 dark:border-slate-700 align-bottom pb-2">
                                <div class="flex flex-col gap-1 w-full">
                                    <span>Tên học phần</span>
                                    <div class="relative">
                                        <input type="text" id="search-name" placeholder="Tìm tên môn..." class="w-full bg-slate-200/50 dark:bg-slate-800/50 border-none rounded px-2 py-1 text-[10px] text-slate-900 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none" />
                                        <i class="fa-solid fa-search absolute right-2 top-1/2 -translate-y-1/2 text-[8px] text-slate-400 pointer-events-none"></i>
                                    </div>
                                </div>
                            </th>
                            <th class="p-3 min-w-[120px] border-r border-slate-200 dark:border-slate-700">Ghi chú</th>
                            <!-- CẬP NHẬT: Thêm tìm kiếm TC (Tín chỉ) -->
                            <th class="p-3 text-center w-16 border-r border-slate-200 dark:border-slate-700 align-bottom pb-2">
                                <div class="flex flex-col gap-1 w-full">
                                    <span>TC</span>
                                    <div class="relative">
                                        <input type="text" id="search-credits" placeholder="..." class="w-full bg-slate-200/50 dark:bg-slate-800/50 border-none rounded px-1 py-1 text-[10px] text-center text-slate-900 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none" />
                                    </div>
                                </div>
                            </th>
                            <th class="p-3 text-center w-16 border-r border-slate-200 dark:border-slate-700">LT</th>
                            <th class="p-3 text-center w-16 border-r border-slate-200 dark:border-slate-700">TH</th>
                            <!-- CẬP NHẬT: Thêm tìm kiếm Tiên quyết -->
                            <th class="p-3 text-center w-24 align-bottom pb-2">
                                <div class="flex flex-col gap-1 w-full">
                                    <span>Tiên quyết</span>
                                    <div class="relative">
                                        <input type="text" id="search-prereq" placeholder="Tìm..." class="w-full bg-slate-200/50 dark:bg-slate-800/50 border-none rounded px-2 py-1 text-[10px] text-slate-900 dark:text-slate-200 focus:ring-1 focus:ring-blue-500 outline-none" />
                                        <i class="fa-solid fa-search absolute right-2 top-1/2 -translate-y-1/2 text-[8px] text-slate-400 pointer-events-none"></i>
                                    </div>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="text-sm divide-y divide-slate-200 dark:divide-slate-700/50 text-slate-700 dark:text-slate-300" id="curriculum-body">
                         
                        <!-- HK1 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 1</td></tr>
                         <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-id="BUS101" data-credits="3" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">1</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">BUS101</td><td class="p-3 font-medium">Tinh thần khởi nghiệp</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                         <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="INT306" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">2</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT306</td><td class="p-3 font-medium">Nhập môn ngành</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                         <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-id="INT310" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">3</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT310</td><td class="p-3 font-medium">Trải nghiệm ngành, nghề</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                         <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="LAW101" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">4</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">LAW101</td><td class="p-3 font-medium">Pháp luật đại cương</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                         <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA035" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">5</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA035</td><td class="p-3 font-medium">Kỹ năng khám phá bản thân</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                         <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="SKL101" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">6</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">SKL101</td><td class="p-3 font-medium">Phương pháp học đại học</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>

                        <!-- HK2 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 2</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="POL105" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">7</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">POL105</td><td class="p-3 font-medium">Triết học Mác - Lênin</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA038" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA038</td><td class="p-3 font-medium">Kỹ năng làm việc nhóm hiệu quả</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA035</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA039" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">9</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA039</td><td class="p-3 font-medium">Kỹ năng thuyết trình</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA035</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="NAS202" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">10</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">NAS202</td><td class="p-3 font-medium">Toán cao cấp</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="INT304" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">11</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT304</td><td class="p-3 font-medium">Kiến trúc máy tính</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="8" data-id="DEE104" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">12</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">DEE104</td><td class="p-3 font-medium">GDQP & An ninh <span class="text-red-500">(*)</span></td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold text-slate-400">8</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center text-slate-500">165</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="GRA401" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">13</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA401</td><td class="p-3 font-medium">Cơ sở thiết kế đồ họa</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA418" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">14</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA418</td><td class="p-3 font-medium">Hình họa</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>

                        <!-- (Tự chọn KTĐC 1 - 15,16) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - Kiến thức đại cương 1 (Chọn 3/6 tín chỉ)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK2_1" data-id="SKL202" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">15</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">SKL202</td><td class="p-3 font-medium">Kỹ năng hành chính văn phòng</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK2_1" data-id="ENG201" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">16</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">ENG201</td><td class="p-3 font-medium">Tiếng Anh giao tiếp 1</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>

                        <!-- (Tự chọn GDTC 1 - 17-23) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - GDTC 1 (Chọn 1 môn)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT120" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">17</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT120</td><td class="p-3 font-medium">GDTC 1 - Bóng đá sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT121" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">18</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT121</td><td class="p-3 font-medium">GDTC 1 - Bóng chuyền sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT122" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">19</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT122</td><td class="p-3 font-medium">GDTC 1 - Bóng rổ sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT123" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">20</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT123</td><td class="p-3 font-medium">GDTC 1 - Bơi lội sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT124" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">21</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT124</td><td class="p-3 font-medium">GDTC 1 - Gym sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT125" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">22</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT125</td><td class="p-3 font-medium">GDTC 1 - Cờ vua sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK2_GDTC" data-id="PHT106" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">23</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT106</td><td class="p-3 font-medium">GDTC 1 - Võ thuật sơ cấp</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>

                        <!-- HK3 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 3</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA403" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">24</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA403</td><td class="p-3 font-medium">Thiết kế đồ họa cơ bản 1 (Photoshop)</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA404" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">25</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA404</td><td class="p-3 font-medium">Thiết kế đồ họa cơ bản 2 (Illustrator)</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="BUS102" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">26</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">BUS102</td><td class="p-3 font-medium">Quản trị sự thay đổi</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA036" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">27</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA036</td><td class="p-3 font-medium">KN xây dựng mục tiêu & tạo động lực</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA038,039</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="INT4401" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">28</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT4401</td><td class="p-3 font-medium">Mạng máy tính</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="POL106" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">29</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">POL106</td><td class="p-3 font-medium">Kinh tế chính trị Mác - Lênin</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center">POL105</td></tr>

                        <!-- (Tự chọn KTĐC 2 - 30,31) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - KTĐC 2 (Chọn 3/6 tín chỉ)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK3_2" data-id="ENG202" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">ENG202</td><td class="p-3 font-medium">Tiếng Anh giao tiếp 2</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center">ENG201</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK3_2" data-id="VIE201" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">31</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">VIE201</td><td class="p-3 font-medium">Kỹ năng sử dụng tiếng Việt</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>

                        <!-- (Tự chọn GDTC 2 - 32-38) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - GDTC 2 (Chọn 1 môn)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT107" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">32</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT107</td><td class="p-3 font-medium">GDTC 2 - Bóng đá cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT108" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">33</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT108</td><td class="p-3 font-medium">GDTC 2 - Bóng chuyền cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT109" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">34</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT109</td><td class="p-3 font-medium">GDTC 2 - Bóng rổ cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT110" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">35</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT110</td><td class="p-3 font-medium">GDTC 2 - Bơi lội cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT111" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">36</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT111</td><td class="p-3 font-medium">GDTC 2 - Gym cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT112" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">37</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT112</td><td class="p-3 font-medium">GDTC 2 - Cờ vua cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK3_GDTC" data-id="PHT119" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">38</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT119</td><td class="p-3 font-medium">GDTC 2 - Võ thuật cơ bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center"></td></tr>

                        <!-- HK4 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 4</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="POL107" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">39</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">POL107</td><td class="p-3 font-medium">Chủ nghĩa xã hội khoa học</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center">POL106</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA040" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">40</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA040</td><td class="p-3 font-medium">KN giải quyết vấn đề - Ra quyết định</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA038,39</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="INT4403" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">41</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT4403</td><td class="p-3 font-medium">Hệ điều hành Linux</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA037" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">42</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA037</td><td class="p-3 font-medium">Kỹ năng tư duy sáng tạo</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA038,39</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="INT322" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">43</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT322</td><td class="p-3 font-medium">Lập trình Java</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA426" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">44</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA426</td><td class="p-3 font-medium">Phát triển ý tưởng sáng tạo</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA419" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA419</td><td class="p-3 font-medium">Nghệ thuật chữ và trang trí</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>

                        <!-- (Tự chọn KTĐC 3 - 46,47) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - KTĐC 3 (Chọn 3/6 tín chỉ)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK4_3" data-id="SOS206" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">46</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">SOS206</td><td class="p-3 font-medium">Mỹ học đại cương</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK4_3" data-id="MAN201" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">47</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MAN201</td><td class="p-3 font-medium">Quản trị học</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>

                        <!-- (Tự chọn GDTC 3 - 48-54) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - GDTC 3 (Chọn 1 môn)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT126" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">48</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT126</td><td class="p-3 font-medium">GDTC 3 - Võ thuật nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT119</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT113" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">49</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT113</td><td class="p-3 font-medium">GDTC 3 - Bóng đá nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT107</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT114" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">50</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT114</td><td class="p-3 font-medium">GDTC 3 - Bóng chuyền nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT108</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT115" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">51</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT115</td><td class="p-3 font-medium">GDTC 3 - Bóng rổ nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT109</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT116" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">52</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT116</td><td class="p-3 font-medium">GDTC 3 - Bơi lội nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT110</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT117" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">53</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT117</td><td class="p-3 font-medium">GDTC 3 - Gym nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT111</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="1" data-group="TC_HK4_GDTC" data-id="PHT118" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">54</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">PHT118</td><td class="p-3 font-medium">GDTC 3 - Cờ vua nâng cao</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">1</td><td class="p-3 text-center"></td><td class="p-3 text-center">30</td><td class="p-3 text-center">PHT112</td></tr>

                        <!-- HK5 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 5</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="4" data-id="GRA421" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">55</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA421</td><td class="p-3 font-medium">Thiết kế đồ họa 2D</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">4</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">60</td><td class="p-3 text-center">GRA403,04,18</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA407" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">56</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA407</td><td class="p-3 font-medium">Đồ họa dàn trang (Indesign)</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="4" data-id="INT323" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">57</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT323</td><td class="p-3 font-medium">Cơ sở dữ liệu</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">4</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA041" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">58</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA041</td><td class="p-3 font-medium">Kỹ năng lãnh đạo</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA036,37,40</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="NAS204" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">59</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">NAS204</td><td class="p-3 font-medium">Vật lý đại cương</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="POL109" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">60</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">POL109</td><td class="p-3 font-medium">Tư tưởng Hồ Chí Minh</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center">POL107</td></tr>

                        <!-- (Tự chọn KTĐC 4 - 61,62) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - KTĐC 4 (Chọn 3/6 tín chỉ)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK5_4" data-id="MAR201" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">61</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MAR201</td><td class="p-3 font-medium">Marketing căn bản</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK5_4" data-id="SOS205" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">62</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">SOS205</td><td class="p-3 font-medium">Giao tiếp đa văn hóa</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>

                        <!-- HK6 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 6</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="2" data-id="POL108" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">63</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">POL108</td><td class="p-3 font-medium">Lịch sử Đảng Cộng sản VN</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">2</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td><td class="p-3 text-center">POL109</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="NAS203" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">64</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">NAS203</td><td class="p-3 font-medium">Thống kê ứng dụng</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="0" data-id="MCA042" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">65</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">MCA042</td><td class="p-3 font-medium">Kỹ năng tìm việc</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">0</td><td class="p-3 text-center text-slate-500">8</td><td class="p-3 text-center"></td><td class="p-3 text-center">MCA036,37,40</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="NAS101" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">66</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">NAS101</td><td class="p-3 font-medium">Môi trường và con người</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA422" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">67</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA422</td><td class="p-3 font-medium">Biên tập phim (Premiere)</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA414" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">68</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA414</td><td class="p-3 font-medium">Đồ họa động (After Effects)</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>

                        <!-- (Tự chọn KTCN 1 - 69,70) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - KT Chuyên ngành 1 (Chọn 3/6 tín chỉ)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK6_1" data-id="GRA310" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">69</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA310</td><td class="p-3 font-medium">Nhiếp ảnh & Quay phim</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK6_1" data-id="GRA425" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">70</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA425</td><td class="p-3 font-medium">Thiết kế hiệu ứng Game 2D</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>

                        <!-- HK7 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 7</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA423" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">71</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA423</td><td class="p-3 font-medium">Thiết kế bộ nhận diện thương hiệu</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04,18</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="4" data-id="GRA424" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">72</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA424</td><td class="p-3 font-medium">Thiết kế đồ họa 3D (Blender/Maya)</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">4</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">60</td><td class="p-3 text-center">GRA403,04</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="ELE326" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">73</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">ELE326</td><td class="p-3 font-medium">Linh kiện điện tử</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center"></td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="GRA427" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">74</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA427</td><td class="p-3 font-medium">Đồ án chuyên ngành Đồ họa/Game</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center">GRA421,24</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-id="SOS102" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">75</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">SOS102</td><td class="p-3 font-medium">Văn hiến Việt Nam</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">45</td><td class="p-3 text-center"></td><td class="p-3 text-center"></td></tr>

                        <!-- (Tự chọn KTCN 2 - 76,77) -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - KT Chuyên ngành 2 (Chọn 3/6 tín chỉ)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK7_2" data-id="GRA409" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">76</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA409</td><td class="p-3 font-medium">Thiết kế giao diện ứng dụng (Figma)</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">GRA403,04</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="3" data-group="TC_HK7_2" data-id="INT4406" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">77</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT4406</td><td class="p-3 font-medium">Lập trình hướng đối tượng</td><td class="p-3 text-xs text-slate-500">Tự chọn</td><td class="p-3 text-center font-bold">3</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center text-slate-500">30</td><td class="p-3 text-center">INT324</td></tr>

                        <!-- HK8 -->
                        <tr class="bg-blue-50 dark:bg-blue-900/20"><td class="sticky left-0 bg-blue-50 dark:bg-blue-900/20 border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-bold text-blue-700 dark:text-blue-300">HỌC KỲ 8</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="5" data-id="INT551" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">78</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT551</td><td class="p-3 font-medium">TTTN Công nghệ thông tin</td><td class="p-3 text-slate-500"></td><td class="p-3 text-center font-bold">5</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center"></td><td class="p-3 text-center">GRA421,24</td></tr>

                        <!-- Chuyên đề / Khóa luận -->
                        <tr class="group-header bg-slate-100 dark:bg-[#1e293b] text-slate-700 dark:text-blue-300"><td class="sticky left-0 bg-slate-100 dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700"></td><td colspan="8" class="px-4 py-2 font-semibold">Tự chọn - Chuyên đề / Khóa luận tốt nghiệp (12 tín chỉ - Chọn 1)</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="6" data-group="TC_HK8_KLTN" data-id="GRA511" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">79</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA511</td><td class="p-3 font-medium">Chuyên đề 1: Branding (Bộ nhận diện thương hiệu)</td><td class="p-3 text-xs text-slate-500">Thay thế KLTN</td><td class="p-3 text-center font-bold">6</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center"></td><td class="p-3 text-center">GRA421,24</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="6" data-group="TC_HK8_KLTN" data-id="GRA512" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">80</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">GRA512</td><td class="p-3 font-medium">Chuyên đề 2: UX-UI (Giao diện Web/App)</td><td class="p-3 text-xs text-slate-500">Thay thế KLTN</td><td class="p-3 text-center font-bold">6</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center"></td><td class="p-3 text-center">GRA421,24</td></tr>
                        <tr class="hover:bg-blue-50/50 dark:hover:bg-slate-800/50 transition-colors group"><td class="p-3 text-center sticky left-0 bg-white/90 dark:bg-slate-900 group-hover:bg-blue-50/90 dark:group-hover:bg-slate-800 border-r border-slate-200 dark:border-slate-700 z-10"><button class="status-btn w-6 h-6 mx-auto" data-credits="12" data-group="TC_HK8_KLTN" data-id="INT587" data-state="0"><i class="icon"></i></button></td><td class="p-3 text-center text-slate-500">81</td><td class="p-3 text-center font-mono text-blue-600 dark:text-blue-400 font-semibold">INT587</td><td class="p-3 font-medium">Khóa luận tốt nghiệp CNTT</td><td class="p-3 text-xs text-slate-500">KLTN</td><td class="p-3 text-center font-bold">12</td><td class="p-3 text-center text-slate-500"></td><td class="p-3 text-center"></td><td class="p-3 text-center">GRA421,24</td></tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // 1. Theme Logic
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const htmlElement = document.documentElement;

        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            htmlElement.classList.remove('dark');
            themeIcon.classList.replace('fa-sun', 'fa-moon');
            themeIcon.classList.remove('text-yellow-500');
            themeIcon.classList.add('text-slate-600');
        } else {
            htmlElement.classList.add('dark');
        }

        themeToggleBtn.addEventListener('click', () => {
            if (htmlElement.classList.contains('dark')) {
                htmlElement.classList.remove('dark');
                localStorage.setItem('theme', 'light');
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                themeIcon.classList.remove('text-yellow-500');
                themeIcon.classList.add('text-slate-600');
            } else {
                htmlElement.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                themeIcon.classList.remove('text-slate-600');
                themeIcon.classList.add('text-yellow-500');
            }
        });

        // 2. Logic Trạng Thái Nút & Tính Toán
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const totalCreditsEl = document.getElementById('total-credits');
        const plannedCreditsEl = document.getElementById('planned-credits');
        
        // Inputs cho việc tìm kiếm
        const searchCodeInput = document.getElementById('search-code');
        const searchNameInput = document.getElementById('search-name');
        const searchSttInput = document.getElementById('search-stt');
        const searchCreditsInput = document.getElementById('search-credits');
        const searchPrereqInput = document.getElementById('search-prereq');

        const totalPossibleCredits = 145; 
        const groupLimits = {
            'TC_HK2_1': 3,
            'TC_HK2_GDTC': 1,
            'TC_HK3_2': 3,
            'TC_HK3_GDTC': 1,
            'TC_HK4_3': 3,
            'TC_HK4_GDTC': 1,
            'TC_HK5_4': 3,
            'TC_HK6_1': 3,
            'TC_HK7_2': 3,
            'TC_HK8_KLTN': 12
        };

        function updateBtnVisual(btn, state) {
            btn.setAttribute('data-state', state);
            while (btn.firstChild) { btn.removeChild(btn.firstChild); }
            const icon = document.createElement('i');
            icon.className = 'icon fa-solid'; 
            btn.appendChild(icon);
        }

        function updateProgress() {
            let totalCredits = 0;
            let plannedCredits = 0;
            let groupSums = {};       
            let plannedGroupSums = {}; 

            const inputs = document.querySelectorAll('.status-btn');

            inputs.forEach(el => {
                let state = parseInt(el.getAttribute('data-state') || 0);
                const credits = parseInt(el.dataset.credits || 0);
                const group = el.dataset.group;
                const row = el.closest('tr');

                row.classList.remove('planned', 'completed');
                
                if (state === 1) { 
                    row.classList.add('planned');
                    if (group) {
                        if (!plannedGroupSums[group]) plannedGroupSums[group] = 0;
                        plannedGroupSums[group] += credits;
                    } else {
                        plannedCredits += credits;
                    }
                } else if (state === 2) { 
                    row.classList.add('completed');
                    if (group) {
                        if (!groupSums[group]) groupSums[group] = 0;
                        groupSums[group] += credits;
                    } else {
                        totalCredits += credits;
                    }
                }
            });

            for (const [group, sum] of Object.entries(groupSums)) {
                const limit = groupLimits[group] || 999;
                totalCredits += Math.min(sum, limit);
            }

            for (const [group, sum] of Object.entries(plannedGroupSums)) {
                const limit = groupLimits[group] || 999;
                plannedCredits += Math.min(sum, limit); 
            }

            totalCreditsEl.innerText = totalCredits;
            if(plannedCreditsEl) plannedCreditsEl.innerText = plannedCredits;

            const percentage = Math.min(100, Math.round((totalCredits / totalPossibleCredits) * 100));
            progressBar.style.width = `${percentage}%`;
            progressText.innerText = `${percentage}%`;
        }

        // 3. Search Logic (Updated for all columns)
        function filterRows() {
            const codeTerm = searchCodeInput ? searchCodeInput.value.toLowerCase() : '';
            const nameTerm = searchNameInput ? searchNameInput.value.toLowerCase() : '';
            const sttTerm = searchSttInput ? searchSttInput.value.toLowerCase() : '';
            const creditsTerm = searchCreditsInput ? searchCreditsInput.value.toLowerCase() : '';
            const prereqTerm = searchPrereqInput ? searchPrereqInput.value.toLowerCase() : '';
            
            const rows = document.querySelectorAll('#curriculum-body tr');
            let currentHeader = null;
            let visibleCountInGroup = 0;

            rows.forEach(row => {
                const firstCell = row.querySelector('td');
                // Logic cho tiêu đề nhóm (HK1, HK2...)
                if (firstCell && firstCell.classList.contains('sticky') && !row.classList.contains('group')) {
                    if (currentHeader) {
                        currentHeader.style.display = visibleCountInGroup > 0 ? '' : 'none';
                    }
                    currentHeader = row;
                    visibleCountInGroup = 0;
                    row.style.display = ''; 
                } 
                // Logic cho dòng học phần
                else if (row.classList.contains('group')) {
                    const sttCell = row.querySelector('td:nth-child(2)'); // Cột STT
                    const codeCell = row.querySelector('td:nth-child(3)'); // Cột Mã HP
                    const nameCell = row.querySelector('td:nth-child(4)'); // Cột Tên HP
                    const creditsCell = row.querySelector('td:nth-child(6)'); // Cột TC
                    const prereqCell = row.querySelector('td:last-child'); // Cột Tiên quyết (Cột 9)

                    if (codeCell && nameCell) {
                        const stt = sttCell ? sttCell.innerText.toLowerCase() : '';
                        const code = codeCell.innerText.toLowerCase();
                        const name = nameCell.innerText.toLowerCase();
                        const credits = creditsCell ? creditsCell.innerText.toLowerCase() : '';
                        const prereq = prereqCell ? prereqCell.innerText.toLowerCase() : '';

                        // Kiểm tra ĐỒNG THỜI cả 5 điều kiện (AND logic)
                        const matchCode = code.includes(codeTerm);
                        const matchName = name.includes(nameTerm);
                        const matchStt = stt.includes(sttTerm);
                        const matchCredits = credits.includes(creditsTerm);
                        const matchPrereq = prereq.includes(prereqTerm);

                        if (matchCode && matchName && matchStt && matchCredits && matchPrereq) {
                            row.style.display = '';
                            visibleCountInGroup++;
                        } else {
                            row.style.display = 'none';
                        }
                    }
                }
            });

            // Xử lý tiêu đề cuối cùng
            if (currentHeader) {
                currentHeader.style.display = visibleCountInGroup > 0 ? '' : 'none';
            }
        }

        if (searchCodeInput) searchCodeInput.addEventListener('input', filterRows);
        if (searchNameInput) searchNameInput.addEventListener('input', filterRows);
        if (searchSttInput) searchSttInput.addEventListener('input', filterRows);
        if (searchCreditsInput) searchCreditsInput.addEventListener('input', filterRows);
        if (searchPrereqInput) searchPrereqInput.addEventListener('input', filterRows);


        // 4. Scroll to Course & Linkify Prereq Logic
        function scrollToCourse(code) {
            const targetRow = document.getElementById(`row-${code}`);
            if (targetRow) {
                targetRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
                targetRow.classList.add('highlight-target');
                setTimeout(() => {
                    targetRow.classList.remove('highlight-target');
                }, 2000);
            }
        }

        // Initial Setup
        const allInputs = document.querySelectorAll('.status-btn');
        const rows = document.querySelectorAll('#curriculum-body tr.group');
        
        // Assign IDs to rows for scrolling
        rows.forEach(row => {
            const codeCell = row.querySelector('td:nth-child(3)');
            if (codeCell) {
                const code = codeCell.innerText.trim();
                if(code) row.id = `row-${code}`;
            }
        });

        // Linkify Prerequisite Column
        rows.forEach(row => {
            const prereqCell = row.querySelector('td:last-child');
            if (prereqCell) {
                const text = prereqCell.innerText.trim();
                if (!text) return;

                const rawParts = text.split(',').map(s => s.trim());
                let builtHtml = "";
                let lastFullCode = "";
                
                for (let i = 0; i < rawParts.length; i++) {
                    const part = rawParts[i];
                    let fullCode = part;
                    
                    const matchFull = part.match(/^([A-Z]{3})(\d+)$/);
                    if (matchFull) {
                        lastFullCode = part;
                    } else if (part.match(/^\d+$/) && lastFullCode) {
                        // Shorthand logic: Replace last N chars of previous code
                        const prefixLen = lastFullCode.length - part.length;
                        if (prefixLen > 0) {
                            fullCode = lastFullCode.substring(0, prefixLen) + part;
                            lastFullCode = fullCode; 
                        }
                    }

                    builtHtml += (i > 0 ? ", " : "") + `<span class="prereq-link" onclick="event.stopPropagation(); scrollToCourse('${fullCode}')">${part}</span>`;
                }
                
                prereqCell.innerHTML = builtHtml;
            }
        });
        
        allInputs.forEach(el => {
            const id = el.dataset.id;
            let savedRaw = localStorage.getItem(`course_state_${id}`);
            let savedState = parseInt(savedRaw || 0);

            updateBtnVisual(el, savedState);
            
            el.addEventListener('click', () => {
                let currentState = parseInt(el.getAttribute('data-state') || 0);
                let nextState = (currentState + 1) % 3; 
                updateBtnVisual(el, nextState);
                localStorage.setItem(`course_state_${id}`, nextState);
                updateProgress();
            });
        });

        // Initial update
        updateProgress();

    </script>
</body>
</html>